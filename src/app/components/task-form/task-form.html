<div class="task-form-container">
  <h2>{{ isEditing ? 'Edit Task' : 'Create New Task' }}</h2>
  
  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="task-form">
    <div class="form-group">
      <label for="name">Task Name <span class="required">*</span></label>
      <input 
        type="text" 
        id="name" 
        formControlName="name" 
        class="form-control"
        [class.invalid]="name?.invalid && name?.touched"
        placeholder="Enter task name"
      />
      <div class="error-message" *ngIf="name?.invalid && name?.touched">
        <span *ngIf="name?.hasError('required')">Name is required</span>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea 
        id="description" 
        formControlName="description" 
        class="form-control"
        rows="3"
        placeholder="Enter task description (optional)"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="cronExpression">Cron Expression <span class="required">*</span></label>
      <input 
        type="text" 
        id="cronExpression" 
        formControlName="cronExpression" 
        class="form-control"
        [class.invalid]="cronExpression?.invalid && cronExpression?.touched"
        placeholder="e.g., 0 0 * * *"
      />
      <div class="error-message" *ngIf="cronExpression?.invalid && cronExpression?.touched">
        <span *ngIf="cronExpression?.hasError('required')">Cron expression is required</span>
      </div>
      <div class="cron-translation" *ngIf="cronReadable$ | async as readable">
        <span [class.error]="readable === 'Invalid Cron Expression'">
          {{ readable }}
        </span>
      </div>
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="taskForm.invalid"
      >
        {{ isEditing ? 'Update Task' : 'Add Task' }}
      </button>
      <button 
        type="button" 
        class="btn btn-secondary"
        (click)="resetForm()"
        *ngIf="isEditing"
      >
        Cancel
      </button>
    </div>
  </form>
</div>
